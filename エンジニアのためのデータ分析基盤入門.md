# エンジニアのためのデータ分析基盤入門

## 1. ［入門］データ分析基盤
* データの種類
    * 非構造データ：Excel, PDF
    * 半構造データ：CSV, JSON
    * 構造データ　：RDB
* データ分析基盤とは
    * 社内外のありとあらゆるデータが混ざり合うことで、さまざまな知見をデータから得ようという動きがあり、データ分析基盤の主な役割は、それらのデータから「パターン」や「関係」を知るためのサポートを行うことです。
* データ分析基盤が持つ役割
    * **データレイク**
        * ローデータ保管
        * 一時データの保存
        * データの受付口
    * **データウェアハウス**
        * 構造データ保管
        * 機密データの保存
    * **データマート**
        * 構造データ保管<br>
        ※データウェアハウスに比べ、より整備されたデータ
* 処理基盤/クラスターの変遷
    * 分散処理（Hadoop）
    * MPPDB
    * クラウド（Hadoop, Kubernetes, MPPDB）

    ※根底の仕組みなどは大きく変わらない
* データ分析に携わる人
    * データエンジニア
    * アナリティクスエンジニア
    * データサイエンティスト
    * BIエンジニア
    * データアナリスト

## 2. データエンジニアリングの基礎知識
* データ分析基盤の基本構造
    * **コレクティングレイヤー**（データを収集する）
        * ストリーミング　：絶え間なくデータを収集する
        * バッチ　　　　　：一定以上の塊のデータを収集する
        * プロビジョニング：ひとまず仮にデータを配置する
    * **プロセシングレイヤー**（収集したデータを処理する）
        * ETL（抽出、変換、転送）
            * バッチ処理　　　　：Apache Hive, Spark
            * ストリーミング処理：Apache Spark, Kafka
        * ELT（抽出、転送、変換）
            * ETLに台頭
        * データラングリング
            * データに対する付加価値をつける
        * 暗号化
        * データ品質計算/メタデータ計算
    * **ストレージレイヤー**（収集したデータを保存する）
        * マスターデータ管理
            * データ活用型のマスターデータ管理
                * 各システムにある独自のマスターデータとは別にデータ分析基盤の中に、独自のマスターデータを持つ
        * メタデータストア
            * メタデータの種類
                * ビジネスメタデータ　　　　：テーブル定義, ドメイン知識
                * テクニカルメタデータ　　　：ログデータや技術詳細, データ品質
                * オペレーショナルメタデータ：操作履歴
            * サービス
                * AWS Glue DataCatalog
        * データゾーン
            * ローゾーン
                * 集めたデータをそのまま保存
            * ゴールドゾーン
                * データマート
                * データウェアハウス
            * ステージングゾーン
                * イミュータブルなデータの提供
                    * 元データの保存
            * クォレンティーンゾーン
                * 機密情報を保持する隔離されたゾーン
            * テンポラリーゾーン
                * 一時的に利用できるようなゾーン
    * **アクセスレイヤー**（ユーザーと接点となる）
        * GUI
        * BIツール（SQL）
        * API
        * ストレージへの直接アクセス
        * メッセージキューに対するアクセス

## 3. データ分析基盤の管理＆構築
* セルフサービス
    * データ分析の需要からエンジニアがボトルネックになるケースが増えた
    * ユーザーごとに適切なインターフェースを提供する  
* SSoT
    * 避けるべきは個々のサービスで小さなデータ分析基盤を持つようなデータのサイロ化
    * フィジカルSSoT
        * 個々のサービスのデータを物理的に1ヶ所に集める仕組み
    * ロジカルSSoT
        * 1ヶ所に集めたように見せる
        * 管理が複雑になるが、ETLなどで1ヶ所に集める労力もなくなる
* データ管理デザインパターン
    * タグとゾーンを組み合わせる
        * 物理的なゾーンではデータの行き来にコストがかかる
        * 論理的なゾーンではタグを変更するだけでゾーンの切り替えが可能
    * GAパターン
        * 機密性の高いデータが存在する場合は、一度クォレンティーンゾーンへ格納後に、ローゾーンに移管するか判断を行う
    * プロビジョニングパターン
        * 必要な時にデータをテンポラリゾーンに配置し、データマート等のデータと掛け合わせてb分析を行う
    * システムによる自動チェック
        * Aパターンもプロビジョニングパターンも人が判断や実行を行うというボトルネックがある
        * データのチェックやデータの投入のチェックをシステムが行う
* データの管理とバックアップ
    * データの管理
        * ロケーション
        * パーティション
    * バックアップ
* データのアクセス制御
    * 制御の粒度
        * ゾーン
        * データベース
        * テーブル
        * カラム/レコード
* One Size Fits All問題
    * デカップリング
        * 計算リソースの最適化
        * ストレージレイヤーとプロセシングレイヤーのぶんり
        * コレクティングレイヤーやアクセスレイヤーの分離
* データのライフサイクルマネジメント
    * データの発生
    * データの成長
    * データの最後
        * サマリー化
        * データのアーカイブ
        * データの削除

## 4. データ分析基盤の技術スタック
* クラスター
* コレクティングレイヤー
* プロセシングレイヤー
* ワークフローエンジン
* ストレージレイヤー
    * フォーマット
        * 列指向フォーマット
        * 行指向フォーマット
    * 種類
        * Parquet
        * Avro
* アクセスレイヤー
    * アクセス制御

## 5. メタデータ管理
* 種類
    * ビジネスメタデータ　　　　：テーブルやデータベースの特性を示す
    * テクニカルメタデータ　　　：データに対する技術的詳細を示す
    * オペレーショナルメタデータ：システムの運用やデータの移動過程などで生成される
* 提供の価値
    * データ基盤に対する疑問点の解消につながる
    * データに対するドメイン知識のギャップを緩和できる
    * データを利用するシステムや人の動きを統一する
    * 非同期にデータを利用する状況を作る
    * アクセス権限に縛られずデータを見つけるヒントになる
* データプロファイリング
    * データの状態を知る
* データカタログ
* データアーキテクチャ

## 6. データマート＆データウェアハウスとデータ整備
* DIKWモデル
    * Data　　　：断片的なデータ
    * Information：分類されたデータ
    * Knowledge  ：知識
    * Wisdom 　 ：知恵
* データマートの役割
    * `Data`を`Information`にすること
* スキーマ設計
    * 

## 7. データ品質管理

## 8. データ分析基盤から始まるデータドリブン

## A. ［ビッグデータでも役立つ］RDB基礎講座
